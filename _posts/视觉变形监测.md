---
layout: post
comments: true
published: True
title: " 基于视觉方法(CV)的结构变形监测"
excerpt: " 结构的位移响应是结构性能检测以及状态评估的硬性指标"
date:   2024-07-18 20:00:00
mathjax: false
---

# 基于视觉方法(CV)的结构变形监测


### 研究意义
**结构的位移响应是结构性能检测以及状态评估的硬性指标**。在正常荷载范围下，位移信息的极值、波动范围能够表征结构的安全性。更重要的是，根据位移信息经过进一步处理可得到更为广博的结构状况信息，例如结构承载力、输入荷载分布、荷载输入信息、模态参数指标、结构影响线等。健康监测工作人员希望通过长期地监测记录结构本体和环境的变化规律，掌握建筑结构的变形规律和发展趋势。

### 视觉监测硬件设备
视觉整体变形监测系统由硬件设备和软件系统组成。硬件设备包括：单反相机、扩展变焦镜头、USB连接线、三脚架、电脑。软件系统包括：图像处理系统、图像连接软件。
<p style="text-align: center;">
<img src="https://wdj-data-1328038871.cos.ap-nanjing.myqcloud.com/blog_data%2F%E8%A7%86%E8%A7%89%E5%8F%98%E5%BD%A2%E7%9B%91%E6%B5%8B%2F1721228301676.jpg"  style="zoom:50%" />
</p>

### 视觉监测流程
单台数码相机可以获得水平位移和垂直位移，称为二维(2d)位移。视觉变形监测基本流程如图所示。主要包括监测相机标定、特征提取、运动追踪、位移转化４个步骤，并应根据应用对象、监测需求、运动追踪算法等情况作相应调整。
1. 相机标定：通过相机标定求取相机内外参系数，获得像素坐标与世界坐标的投影映射关系。
2. 特征提取：提取被测结构表面的图像特征，图像特征可以是结构本身的纹理特征，也可以是人工安装的标记。
3. 目标追踪：根据提取的特征，选择合适的跟踪算法进行计算，得到所选目标在图像坐标系中被测结构上的变形信息。
4. 位移计算：将跟踪位置与初始位置进行计算，并利用摄像机标定。
<p style="text-align: center;">
<img src="https://wdj-data-1328038871.cos.ap-nanjing.myqcloud.com/blog_data%2F%E8%A7%86%E8%A7%89%E5%8F%98%E5%BD%A2%E7%9B%91%E6%B5%8B%2F1721303952748.jpg"  style="zoom:50%" />
</p>
使用Nikon D5600相机采集包含目标结构的实时视频信息，并将视频流中图像帧处理为灰度图像序列。以初始图像帧左上角为原点建立像素坐标系O_uv-uv(pixel)，将第1帧目标点的位置作为初始像素坐标(u，v )。在图像序列中，包含目标结构点运动范围的区域被划分为感兴趣区域(region of interesting，ROI)。

ROI的大小以目标点的位移幅度为参考，需要覆盖目标点的最大位移幅度。ROI的划分可以有效避免遍历匹配中不必要的计算。由基于数字图像相关的模板匹配算法和特征点匹配算法对目标进行跟踪，获得目标在第i帧的像素坐标(ui，vi)。最后，根据相机标定中获得的相机外参(R、T)和相机内参(K)，将像素坐标系变形转化为世界坐标系中的变形。由此目标结构点在现实世界坐标系中的坐标变化量为(小，y，z)，便可得到目标结构在三维真实世界坐标系下的位移时程曲线。
<p style="text-align: center;">
<img src="https://wdj-data-1328038871.cos.ap-nanjing.myqcloud.com/blog_data%2F%E8%A7%86%E8%A7%89%E5%8F%98%E5%BD%A2%E7%9B%91%E6%B5%8B%2F1721304101200.jpg"  style="zoom:60%" />
</p>
为了评估基于视觉方法的结构整体变形监测系统在荷载快速振动工况下的性能，利用该系统在实验室振动台上进行了缩尺模型的二维平面振动监测。在该试验中，贴有人工靶标的缩尺模型被固定在振动台上。缩尺模型随振动台在水平方向做频率为0.2且振幅为30mm的正弦运动f(t)=30 sin⁡(0.4πt)。视觉监测系统分别以距离L=1.5m、3.0m且监测角度(摄像头光轴与被监测对象平面法向夹角)α=0°、15°、30°分别进行拍摄，以验证距离和方向等不同监测环境对视觉监测系统的影响。
<p style="text-align: center;">
<img src="https://wdj-data-1328038871.cos.ap-nanjing.myqcloud.com/blog_data%2F%E8%A7%86%E8%A7%89%E5%8F%98%E5%BD%A2%E7%9B%91%E6%B5%8B%2F1721304168668.jpg"  style="zoom:60%" />
</p>

为量化基于计算机视觉的建变形监测系统的精度，采用视觉监测中常用的归一化均方根误差(normalized root mean square error, NRMSE)进行误差分析：

<p style="text-align: center;">
<img src="https://wdj-data-1328038871.cos.ap-nanjing.myqcloud.com/blog_data%2F%E8%A7%86%E8%A7%89%E5%8F%98%E5%BD%A2%E7%9B%91%E6%B5%8B%2F1721304146615.jpg"  style="zoom:60%" />
</p>

下表分别列出了当监测距离L=1.5m、3.0m，监测角度α=0°时，计算机视觉监测系统在振动台试验中的归一化均方根误差：

|监测距离 | 像素解析度 |监测角度 | NRMSE误差(%)|
|-------------|--------------|-------|-------|
|1.50m(35mm焦距) | 0.5344 mm/piexl |0°| 0.6862 |
|3.00m(70mm焦距) | 0.5070 mm/piexl |0°| 0.1971 |

### 结论
- 视觉系统同时适用于建筑在长期荷载下缓慢单调变形和偶然荷载下快速振动变形两种工况。根据监测环境和监测对象，能同时实现有靶标或无靶标变形监测。
-  在监测距离1.5m倾斜角度0°时，NRMSE误差不超过0.1%。在监测距离3.0m倾斜角度0°时，NRMSE误差不超过0.2%。采用有靶标模板匹配方式跟踪人工目标和无靶标特征点匹配方式跟踪自然特征这两种监测方式NRMSE误差悬殊不超过0.5%。
-  在数据信息上，有靶标变形监测时间复杂度适中、结果平稳、易受环境干扰，无靶标监测时间复杂度偏高、波动性较大、鲁棒性强。
